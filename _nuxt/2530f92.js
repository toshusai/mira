(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{268:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.writeEffects=r.readEffects=void 0;var t=n(232),o=n(233),l=n(235),d=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function f(e){return o.checkSignature(e,"8BIM"),t.toBlendMode[o.readSignature(e)]||"normal"}function w(e,r){l.writeSignature(e,"8BIM"),l.writeSignature(e,t.fromBlendMode[r]||"norm")}function c(e){return o.readUint8(e)/255}function v(e,r){l.writeUint8(e,0|Math.round(255*r))}function h(e,shadow){var r;l.writeUint32(e,51),l.writeUint32(e,2),l.writeFixedPoint32(e,shadow.size&&shadow.size.value||0),l.writeFixedPoint32(e,0),l.writeFixedPoint32(e,shadow.angle||0),l.writeFixedPoint32(e,shadow.distance&&shadow.distance.value||0),l.writeColor(e,shadow.color),w(e,shadow.blendMode),l.writeUint8(e,shadow.enabled?1:0),l.writeUint8(e,shadow.useGlobalLight?1:0),v(e,null!==(r=shadow.opacity)&&void 0!==r?r:1),l.writeColor(e,shadow.color)}r.readEffects=function(e){var r=o.readUint16(e);if(0!==r)throw new Error("Invalid effects layer version: "+r);for(var n=o.readUint16(e),t={},i=0;i<n;i++){o.checkSignature(e,"8BIM");var l=o.readSignature(e);switch(l){case"cmnS":var w=o.readUint32(e),v=o.readUint32(e),h=!!o.readUint8(e);if(o.skipBytes(e,2),7!==w||0!==v||!h)throw new Error("Invalid effects common state");break;case"dsdw":case"isdw":var U=o.readUint32(e),S=o.readUint32(e);if(41!==U&&51!==U)throw new Error("Invalid shadow size: "+U);if(0!==S&&2!==S)throw new Error("Invalid shadow version: "+S);w=o.readFixedPoint32(e);o.readFixedPoint32(e);var y=o.readFixedPoint32(e),C=o.readFixedPoint32(e),x=o.readColor(e),P=f(e),I=!!o.readUint8(e),F=!!o.readUint8(e),M=c(e);U>=51&&o.readColor(e);var E={size:{units:"Pixels",value:w},distance:{units:"Pixels",value:C},angle:y,color:x,blendMode:P,enabled:I,useGlobalLight:F,opacity:M};"dsdw"===l?t.dropShadow=[E]:t.innerShadow=[E];break;case"oglw":U=o.readUint32(e);var B=o.readUint32(e);if(32!==U&&42!==U)throw new Error("Invalid outer glow size: "+U);if(0!==B&&2!==B)throw new Error("Invalid outer glow version: "+B);w=o.readFixedPoint32(e);o.readFixedPoint32(e);x=o.readColor(e),P=f(e),I=!!o.readUint8(e),M=c(e);U>=42&&o.readColor(e),t.outerGlow={size:{units:"Pixels",value:w},color:x,blendMode:P,enabled:I,opacity:M};break;case"iglw":U=o.readUint32(e);var m=o.readUint32(e);if(32!==U&&43!==U)throw new Error("Invalid inner glow size: "+U);if(0!==m&&2!==m)throw new Error("Invalid inner glow version: "+m);w=o.readFixedPoint32(e);o.readFixedPoint32(e);x=o.readColor(e),P=f(e),I=!!o.readUint8(e),M=c(e);U>=43&&(o.readUint8(e),o.readColor(e)),t.innerGlow={size:{units:"Pixels",value:w},color:x,blendMode:P,enabled:I,opacity:M};break;case"bevl":U=o.readUint32(e);var z=o.readUint32(e);if(58!==U&&78!==U)throw new Error("Invalid bevel size: "+U);if(0!==z&&2!==z)throw new Error("Invalid bevel version: "+z);y=o.readFixedPoint32(e);var O=o.readFixedPoint32(e),k=(w=o.readFixedPoint32(e),f(e)),A=f(e),G=o.readColor(e),L=o.readColor(e),style=d[o.readUint8(e)]||"inner bevel",j=c(e),D=c(e),T=(I=!!o.readUint8(e),F=!!o.readUint8(e),o.readUint8(e)?"down":"up");U>=78&&(o.readColor(e),o.readColor(e)),t.bevel={size:{units:"Pixels",value:w},angle:y,strength:O,highlightBlendMode:k,shadowBlendMode:A,highlightColor:G,shadowColor:L,style:style,highlightOpacity:j,shadowOpacity:D,enabled:I,useGlobalLight:F,direction:T};break;case"sofi":w=o.readUint32(e);var $=o.readUint32(e);if(34!==w)throw new Error("Invalid effects solid fill info size: "+w);if(2!==$)throw new Error("Invalid effects solid fill info version: "+$);P=f(e),x=o.readColor(e),M=c(e),I=!!o.readUint8(e);o.readColor(e),t.solidFill=[{blendMode:P,color:x,opacity:M,enabled:I}];break;default:throw new Error("Invalid effect type: '"+l+"'")}}return t},r.writeEffects=function(e,r){var n,t,o,f,c,U,S=null===(n=r.dropShadow)||void 0===n?void 0:n[0],y=null===(t=r.innerShadow)||void 0===t?void 0:t[0],C=r.outerGlow,x=r.innerGlow,P=r.bevel,I=null===(o=r.solidFill)||void 0===o?void 0:o[0],F=1;if(S&&F++,y&&F++,C&&F++,x&&F++,P&&F++,I&&F++,l.writeUint16(e,0),l.writeUint16(e,F),l.writeSignature(e,"8BIM"),l.writeSignature(e,"cmnS"),l.writeUint32(e,7),l.writeUint32(e,0),l.writeUint8(e,1),l.writeZeros(e,2),S&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,"dsdw"),h(e,S)),y&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,"isdw"),h(e,y)),C&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,"oglw"),l.writeUint32(e,42),l.writeUint32(e,2),l.writeFixedPoint32(e,(null===(f=C.size)||void 0===f?void 0:f.value)||0),l.writeFixedPoint32(e,0),l.writeColor(e,C.color),w(e,C.blendMode),l.writeUint8(e,C.enabled?1:0),v(e,C.opacity||0),l.writeColor(e,C.color)),x&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,"iglw"),l.writeUint32(e,43),l.writeUint32(e,2),l.writeFixedPoint32(e,(null===(c=x.size)||void 0===c?void 0:c.value)||0),l.writeFixedPoint32(e,0),l.writeColor(e,x.color),w(e,x.blendMode),l.writeUint8(e,x.enabled?1:0),v(e,x.opacity||0),l.writeUint8(e,0),l.writeColor(e,x.color)),P){l.writeSignature(e,"8BIM"),l.writeSignature(e,"bevl"),l.writeUint32(e,78),l.writeUint32(e,2),l.writeFixedPoint32(e,P.angle||0),l.writeFixedPoint32(e,P.strength||0),l.writeFixedPoint32(e,(null===(U=P.size)||void 0===U?void 0:U.value)||0),w(e,P.highlightBlendMode),w(e,P.shadowBlendMode),l.writeColor(e,P.highlightColor),l.writeColor(e,P.shadowColor);var style=d.indexOf(P.style);l.writeUint8(e,style<=0?1:style),v(e,P.highlightOpacity||0),v(e,P.shadowOpacity||0),l.writeUint8(e,P.enabled?1:0),l.writeUint8(e,P.useGlobalLight?1:0),l.writeUint8(e,"down"===P.direction?1:0),l.writeColor(e,P.highlightColor),l.writeColor(e,P.shadowColor)}I&&(l.writeSignature(e,"8BIM"),l.writeSignature(e,"sofi"),l.writeUint32(e,34),l.writeUint32(e,2),w(e,I.blendMode),l.writeColor(e,I.color),v(e,I.opacity||0),l.writeUint8(e,I.enabled?1:0),l.writeColor(e,I.color))}},270:function(e,r,n){"use strict";function t(e){return 32===e||10===e||13===e||9===e}function o(e){return e>=48&&e<=57||46===e||45===e}Object.defineProperty(r,"__esModule",{value:!0}),r.serializeEngineData=r.parseEngineData=void 0,r.parseEngineData=function(data){var e=0;function r(){for(;e<data.length&&t(data[e]);)e++}function n(){var r=data[e];return e++,92===r&&(r=data[e],e++),r}function l(){var r="";if(41===data[e])return e++,r;if(254!==data[e]||255!==data[e+1])throw new Error("Invalid utf-16 BOM");for(e+=2;e<data.length&&41!==data[e];){var t=n()<<8|n();r+=String.fromCharCode(t)}return e++,r}var d=null,f=[];function w(e){f.length?(c(e),f.push(e)):(f.push(e),d=e)}function c(e){if(!f.length)throw new Error("Invalid data");var r=f[f.length-1];if("string"==typeof r)f[f.length-2][r]=e,h();else{if(!Array.isArray(r))throw new Error("Invalid data");r.push(e)}}function v(e){f.length||w({});var r=f[f.length-1];if(r&&"string"==typeof r)c("nil"===e?null:"/"+e);else{if(!r||"object"!=typeof r)throw new Error("Invalid data");f.push(e)}}function h(){if(!f.length)throw new Error("Invalid data");f.pop()}for(r();e<data.length;){var i=e,U=data[i];if(60===U&&60===data[i+1])e+=2,w({});else if(62===U&&62===data[i+1])e+=2,h();else if(47===U){for(var S=e+=1;e<data.length&&!t(data[e]);)e++;for(var y="",C=S;C<e;C++)y+=String.fromCharCode(data[C]);v(y)}else if(40===U)e+=1,c(l());else if(91===U)e+=1,w([]);else if(93===U)e+=1,h();else if(110===U&&117===data[i+1]&&108===data[i+2]&&108===data[i+3])e+=4,c(null);else if(116===U&&114===data[i+1]&&117===data[i+2]&&101===data[i+3])e+=4,c(!0);else if(102===U&&97===data[i+1]&&108===data[i+2]&&115===data[i+3]&&101===data[i+4])e+=5,c(!1);else if(o(U)){for(var x="";e<data.length&&o(data[e]);)x+=String.fromCharCode(data[e]),e++;c(parseFloat(x))}else e+=1,console.log("Invalid token "+String.fromCharCode(U)+" at "+e);r()}return d};var l=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth","AutoLeading"],d=["RunLengthArray"];r.serializeEngineData=function(data,e){void 0===e&&(e=!1);var r=new Uint8Array(1024),n=0,t=0;function o(e){if(n>=r.length){var t=new Uint8Array(2*r.length);t.set(r),r=t}r[n]=e,n++}function f(e){for(var i=0;i<e.length;i++)o(e.charCodeAt(i))}function w(){if(e)f(" ");else for(var i=0;i<t;i++)f("\t")}function c(r,n){w(),f("/"+r),y(n,r,!0),e||f("\n")}function v(e){return e.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")}function h(e,r){return r&&-1!==l.indexOf(r)||(0|e)!==e?v(e):function(e){return e.toString()}(e)}function U(e){var r=Object.keys(e);return-1!==r.indexOf("98")&&r.unshift.apply(r,r.splice(r.indexOf("99"),1)),-1!==r.indexOf("99")&&r.unshift.apply(r,r.splice(r.indexOf("99"),1)),r}function S(e){40!==e&&41!==e&&92!==e||o(92),o(e)}function y(r,n,l){function C(){l?f(" "):w()}if(void 0===l&&(l=!1),null===r)C(),f(e?"/nil":"null");else if("number"==typeof r)C(),f(h(r,n));else if("boolean"==typeof r)C(),f(r?"true":"false");else if("string"==typeof r)if(C(),"99"!==n&&"98"!==n||"/"!==r.charAt(0)){f("("),o(254),o(255);for(var i=0;i<r.length;i++){var code=r.charCodeAt(i);S(code>>8&255),S(255&code)}f(")")}else f(r);else if(Array.isArray(r))if(C(),r.every((function(e){return"number"==typeof e}))){f("[");for(var x=-1!==d.indexOf(n),P=0,I=r;P<I.length;P++){var F=I[P];f(" "),f(x?h(F):v(F))}f(" ]")}else{f("["),e||f("\n");for(var M=0,E=r;M<E.length;M++){y(F=E[M],n),e||f("\n")}w(),f("]")}else if("object"==typeof r){l&&!e&&f("\n"),w(),f("<<"),e||f("\n"),t++;for(var B=0,m=U(r);B<m.length;B++){var z=m[B];c(z,r[z])}t--,w(),f(">>")}}if(e){if("object"==typeof data)for(var C=0,x=U(data);C<x.length;C++){var P=x[C];c(P,data[P])}}else f("\n\n"),y(data);return r.slice(0,n)}}}]);
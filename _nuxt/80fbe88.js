(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{247:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.resourceHandlersMap=n.resourceHandlers=void 0;var r=e(234),o=e(233),d=e(235),l=e(232),c=e(269),f=e(242);function v(t,e,r,o){var d={key:t,has:e,read:r,write:o};n.resourceHandlers.push(d),n.resourceHandlersMap[d.key]=d}n.resourceHandlers=[],n.resourceHandlersMap={};var h=[void 0,"PPI","PPCM"],U=[void 0,"Inches","Centimeters","Points","Picas","Columns"],w="0123456789abcdef";function m(code){return code<=57?code-48:code-87}function S(t,n){var e=o.readBytes(t,n);return c.decodeString(e)}function y(t,n){var e=c.encodeString(n);d.writeBytes(t,e)}l.MOCK_HANDLERS&&v(1028,(function(t){return void 0!==t._ir1028}),(function(t,n,e){n._ir1028=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1028)})),v(1061,(function(t){return void 0!==t.captionDigest}),(function(t,n){for(var e="",i=0;i<16;i++){var r=o.readUint8(t);e+=w[r>>4],e+=w[15&r]}n.captionDigest=e}),(function(t,n){for(var i=0;i<16;i++)d.writeUint8(t,(e=n.captionDigest,r=2*i,m(e.charCodeAt(r))<<4|m(e.charCodeAt(r+1))));var e,r})),v(1060,(function(t){return void 0!==t.xmpMetadata}),(function(t,n,e){return n.xmpMetadata=S(t,e())}),(function(t,n){return y(t,n.xmpMetadata)}));var I=l.createEnum("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});v(1082,(function(t){return void 0!==t.printInformation}),(function(t,n){var e,r,desc=f.readVersionAndDescriptor(t);n.printInformation={printerName:desc.printerName||"",renderingIntent:I.decode(null!==(e=desc.Inte)&&void 0!==e?e:"Inte.Img ")};var o=n.printInformation;void 0!==desc.PstS&&(o.printerManagesColors=desc.PstS),void 0!==desc["Nm  "]&&(o.printerProfile=desc["Nm  "]),void 0!==desc.MpBl&&(o.blackPointCompensation=desc.MpBl),void 0!==desc.printSixteenBit&&(o.printSixteenBit=desc.printSixteenBit),void 0!==desc.hardProof&&(o.hardProof=desc.hardProof),desc.printProofSetup&&("Bltn"in desc.printProofSetup?o.proofSetup={builtin:desc.printProofSetup.Bltn.split(".")[1]}:o.proofSetup={profile:desc.printProofSetup.profile,renderingIntent:I.decode(null!==(r=desc.printProofSetup.Inte)&&void 0!==r?r:"Inte.Img "),blackPointCompensation:!!desc.printProofSetup.MpBl,paperWhite:!!desc.printProofSetup.paperWhite})}),(function(t,n){var e,r,o=n.printInformation,desc={};o.printerManagesColors?desc.PstS=!0:(void 0!==o.hardProof&&(desc.hardProof=!!o.hardProof),desc.ClrS="ClrS.RGBC",desc["Nm  "]=null!==(e=o.printerProfile)&&void 0!==e?e:"CIE RGB"),desc.Inte=I.encode(o.renderingIntent),o.printerManagesColors||(desc.MpBl=!!o.blackPointCompensation),desc.printSixteenBit=!!o.printSixteenBit,desc.printerName=o.printerName||"",o.proofSetup&&"profile"in o.proofSetup?desc.printProofSetup={profile:o.proofSetup.profile||"",Inte:I.encode(o.proofSetup.renderingIntent),MpBl:!!o.proofSetup.blackPointCompensation,paperWhite:!!o.proofSetup.paperWhite}:desc.printProofSetup={Bltn:(null===(r=o.proofSetup)||void 0===r?void 0:r.builtin)?"builtinProof."+o.proofSetup.builtin:"builtinProof.proofCMYK"},f.writeVersionAndDescriptor(t,"","printOutput",desc)})),l.MOCK_HANDLERS&&v(1083,(function(t){return void 0!==t._ir1083}),(function(t,n,e){n._ir1083=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1083)})),v(1005,(function(t){return void 0!==t.resolutionInfo}),(function(t,n){var e=o.readFixedPoint32(t),r=o.readUint16(t),d=o.readUint16(t),l=o.readFixedPoint32(t),c=o.readUint16(t),f=o.readUint16(t);n.resolutionInfo={horizontalResolution:e,horizontalResolutionUnit:h[r]||"PPI",widthUnit:U[d]||"Inches",verticalResolution:l,verticalResolutionUnit:h[c]||"PPI",heightUnit:U[f]||"Inches"}}),(function(t,n){var e=n.resolutionInfo;d.writeFixedPoint32(t,e.horizontalResolution||0),d.writeUint16(t,Math.max(1,h.indexOf(e.horizontalResolutionUnit))),d.writeUint16(t,Math.max(1,U.indexOf(e.widthUnit))),d.writeFixedPoint32(t,e.verticalResolution||0),d.writeUint16(t,Math.max(1,h.indexOf(e.verticalResolutionUnit))),d.writeUint16(t,Math.max(1,U.indexOf(e.heightUnit)))}));var B=["centered","size to fit","user defined"];v(1062,(function(t){return void 0!==t.printScale}),(function(t,n){n.printScale={style:B[o.readInt16(t)],x:o.readFloat32(t),y:o.readFloat32(t),scale:o.readFloat32(t)}}),(function(t,n){var e=n.printScale,style=e.style,r=e.x,o=e.y,l=e.scale;d.writeInt16(t,Math.max(0,B.indexOf(style))),d.writeFloat32(t,r||0),d.writeFloat32(t,o||0),d.writeFloat32(t,l||0)})),v(1006,(function(t){return void 0!==t.alphaChannelNames}),(function(t,n,e){for(n.alphaChannelNames=[];e();){var r=o.readPascalString(t,1);n.alphaChannelNames.push(r)}}),(function(t,n){for(var e=0,r=n.alphaChannelNames;e<r.length;e++){var o=r[e];d.writePascalString(t,o,1)}})),v(1045,(function(t){return void 0!==t.alphaChannelNames}),(function(t,n,e){for(n.alphaChannelNames=[];e();)n.alphaChannelNames.push(o.readUnicodeString(t))}),(function(t,n){for(var e=0,r=n.alphaChannelNames;e<r.length;e++){var o=r[e];d.writeUnicodeStringWithPadding(t,o)}})),l.MOCK_HANDLERS&&v(1077,(function(t){return void 0!==t._ir1077}),(function(t,n,e){n._ir1077=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1077)})),v(1053,(function(t){return void 0!==t.alphaIdentifiers}),(function(t,n,e){for(n.alphaIdentifiers=[];e()>=4;)n.alphaIdentifiers.push(o.readUint32(t))}),(function(t,n){for(var e=0,r=n.alphaIdentifiers;e<r.length;e++){var o=r[e];d.writeUint32(t,o)}})),v(1010,(function(t){return void 0!==t.backgroundColor}),(function(t,n){return n.backgroundColor=o.readColor(t)}),(function(t,n){return d.writeColor(t,n.backgroundColor)})),v(1037,(function(t){return void 0!==t.globalAngle}),(function(t,n){return n.globalAngle=o.readUint32(t)}),(function(t,n){return d.writeUint32(t,n.globalAngle)})),v(1049,(function(t){return void 0!==t.globalAltitude}),(function(t,n){return n.globalAltitude=o.readUint32(t)}),(function(t,n){return d.writeUint32(t,n.globalAltitude)})),v(1011,(function(t){return void 0!==t.printFlags}),(function(t,n){n.printFlags={labels:!!o.readUint8(t),cropMarks:!!o.readUint8(t),colorBars:!!o.readUint8(t),registrationMarks:!!o.readUint8(t),negative:!!o.readUint8(t),flip:!!o.readUint8(t),interpolate:!!o.readUint8(t),caption:!!o.readUint8(t),printFlags:!!o.readUint8(t)}}),(function(t,n){var e=n.printFlags;d.writeUint8(t,e.labels?1:0),d.writeUint8(t,e.cropMarks?1:0),d.writeUint8(t,e.colorBars?1:0),d.writeUint8(t,e.registrationMarks?1:0),d.writeUint8(t,e.negative?1:0),d.writeUint8(t,e.flip?1:0),d.writeUint8(t,e.interpolate?1:0),d.writeUint8(t,e.caption?1:0),d.writeUint8(t,e.printFlags?1:0)})),l.MOCK_HANDLERS&&v(1e4,(function(t){return void 0!==t._ir10000}),(function(t,n,e){n._ir10000=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir10000)})),l.MOCK_HANDLERS&&v(1013,(function(t){return void 0!==t._ir1013}),(function(t,n,e){n._ir1013=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1013)})),l.MOCK_HANDLERS&&v(1016,(function(t){return void 0!==t._ir1016}),(function(t,n,e){n._ir1016=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1016)})),v(1024,(function(t){return void 0!==t.layerState}),(function(t,n){return n.layerState=o.readUint16(t)}),(function(t,n){return d.writeUint16(t,n.layerState)})),v(1026,(function(t){return void 0!==t.layersGroup}),(function(t,n,e){for(n.layersGroup=[];e();)n.layersGroup.push(o.readUint16(t))}),(function(t,n){for(var e=0,r=n.layersGroup;e<r.length;e++){var g=r[e];d.writeUint16(t,g)}})),v(1072,(function(t){return void 0!==t.layerGroupsEnabledId}),(function(t,n,e){for(n.layerGroupsEnabledId=[];e();)n.layerGroupsEnabledId.push(o.readUint8(t))}),(function(t,n){for(var e=0,r=n.layerGroupsEnabledId;e<r.length;e++){var o=r[e];d.writeUint8(t,o)}})),v(1069,(function(t){return void 0!==t.layerSelectionIds}),(function(t,n){var e=o.readUint16(t);for(n.layerSelectionIds=[];e--;)n.layerSelectionIds.push(o.readUint32(t))}),(function(t,n){d.writeUint16(t,n.layerSelectionIds.length);for(var e=0,r=n.layerSelectionIds;e<r.length;e++){var o=r[e];d.writeUint32(t,o)}})),v(1032,(function(t){return void 0!==t.gridAndGuidesInformation}),(function(t,n){var e=o.readUint32(t),r=o.readUint32(t),d=o.readUint32(t),l=o.readUint32(t);if(1!==e)throw new Error("Invalid 1032 resource version: "+e);n.gridAndGuidesInformation={grid:{horizontal:r,vertical:d},guides:[]};for(var i=0;i<l;i++)n.gridAndGuidesInformation.guides.push({location:o.readUint32(t)/32,direction:o.readUint8(t)?"horizontal":"vertical"})}),(function(t,n){var e=n.gridAndGuidesInformation,r=e.grid||{horizontal:576,vertical:576},o=e.guides||[];d.writeUint32(t,1),d.writeUint32(t,r.horizontal),d.writeUint32(t,r.vertical),d.writeUint32(t,o.length);for(var l=0,c=o;l<c.length;l++){var g=c[l];d.writeUint32(t,32*g.location),d.writeUint8(t,"horizontal"===g.direction?1:0)}})),v(1054,(function(t){return void 0!==t.urlsList}),(function(t,n,e,r){if(o.readUint32(t)){if(!r.throwForMissingFeatures)return;throw new Error("Not implemented: URL List")}n.urlsList=[]}),(function(t,n){if(d.writeUint32(t,n.urlsList.length),n.urlsList.length)throw new Error("Not implemented: URL List")})),l.MOCK_HANDLERS&&v(1050,(function(t){return void 0!==t._ir1050}),(function(t,n,e){n._ir1050=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1050)})),v(1064,(function(t){return void 0!==t.pixelAspectRatio}),(function(t,n){if(o.readUint32(t)>2)throw new Error("Invalid pixelAspectRatio version");n.pixelAspectRatio={aspect:o.readFloat64(t)}}),(function(t,n){d.writeUint32(t,2),d.writeFloat64(t,n.pixelAspectRatio.aspect)})),v(1041,(function(t){return void 0!==t.iccUntaggedProfile}),(function(t,n){n.iccUntaggedProfile=!!o.readUint8(t)}),(function(t,n){d.writeUint8(t,n.iccUntaggedProfile?1:0)})),l.MOCK_HANDLERS&&v(1039,(function(t){return void 0!==t._ir1039}),(function(t,n,e){n._ir1039=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1039)})),v(1044,(function(t){return void 0!==t.idsSeedNumber}),(function(t,n){return n.idsSeedNumber=o.readUint32(t)}),(function(t,n){return d.writeUint32(t,n.idsSeedNumber)})),v(1036,(function(t){return void 0!==t.thumbnail||void 0!==t.thumbnailRaw}),(function(t,n,e,r){var d=o.readUint32(t),c=o.readUint32(t),f=o.readUint32(t);o.readUint32(t),o.readUint32(t),o.readUint32(t);var v=o.readUint16(t),h=o.readUint16(t);if(1!==d||24!==v||1!==h)return r.logMissingFeatures&&console.log("Invalid thumbnail data (format: "+d+", bitsPerPixel: "+v+", planes: "+h+")"),void o.skipBytes(t,e());var U=e(),data=o.readBytes(t,U);r.useRawThumbnail?n.thumbnailRaw={width:c,height:f,data:data}:n.thumbnail=l.createCanvasFromData(data)}),(function(t,n){var data,e=0,o=0;n.thumbnailRaw?(e=n.thumbnailRaw.width,o=n.thumbnailRaw.height,data=n.thumbnailRaw.data):(e=n.thumbnail.width,o=n.thumbnail.height,data=r.toByteArray(n.thumbnail.toDataURL("image/jpeg",1).substr("data:image/jpeg;base64,".length)));var l=4*Math.floor((24*e+31)/32),c=l*o*1,f=data.length;d.writeUint32(t,1),d.writeUint32(t,e),d.writeUint32(t,o),d.writeUint32(t,l),d.writeUint32(t,c),d.writeUint32(t,f),d.writeUint16(t,24),d.writeUint16(t,1),d.writeBytes(t,data)})),v(1057,(function(t){return void 0!==t.versionInfo}),(function(t,n,e){if(1!==o.readUint32(t))throw new Error("Invalid versionInfo version");n.versionInfo={hasRealMergedData:!!o.readUint8(t),writerName:o.readUnicodeString(t),readerName:o.readUnicodeString(t),fileVersion:o.readUint32(t)},o.skipBytes(t,e())}),(function(t,n){var e=n.versionInfo;d.writeUint32(t,1),d.writeUint8(t,e.hasRealMergedData?1:0),d.writeUnicodeString(t,e.writerName),d.writeUnicodeString(t,e.readerName),d.writeUint32(t,e.fileVersion)})),l.MOCK_HANDLERS&&v(1058,(function(t){return void 0!==t._ir1058}),(function(t,n,e){n._ir1058=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1058)})),v(7e3,(function(t){return void 0!==t.imageReadyVariables}),(function(t,n,e){n.imageReadyVariables=S(t,e())}),(function(t,n){y(t,n.imageReadyVariables)})),v(7001,(function(t){return void 0!==t.imageReadyDataSets}),(function(t,n,e){n.imageReadyDataSets=S(t,e())}),(function(t,n){y(t,n.imageReadyDataSets)})),v(1088,(function(t){return void 0!==t.pathSelectionState}),(function(t,n,e){var desc=f.readVersionAndDescriptor(t);n.pathSelectionState=desc.null}),(function(t,n){var desc={null:n.pathSelectionState};f.writeVersionAndDescriptor(t,"","null",desc)})),l.MOCK_HANDLERS&&v(1025,(function(t){return void 0!==t._ir1025}),(function(t,n,e){n._ir1025=o.readBytes(t,e())}),(function(t,n){d.writeBytes(t,n._ir1025)}));var _=l.createEnum("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"});l.MOCK_HANDLERS&&v(4e3,(function(t){return void 0!==t._ir4000}),(function(t,n,e,r){var d=r.logMissingFeatures,c=r.logDevFeatures;if(l.MOCK_HANDLERS)n._ir4000=o.readBytes(t,e());else{var v=o.readSignature(t);if("mani"===v)o.checkSignature(t,"IRFR"),o.readSection(t,1,(function(n){for(var e=function(){o.checkSignature(t,"8BIM");var n=o.readSignature(t);o.readSection(t,1,(function(e){if("AnDs"===n){var desc=f.readVersionAndDescriptor(t);c&&console.log("#4000 AnDs",desc);var r={frames:desc.FrIn.map((function(t){return{id:t.FrID,delay:t.FrDl/100,dispose:t.FrDs?_.decode(t.FrDs):"auto"}})),animations:desc.FSts.map((function(t){return{id:t.FsID,frames:t.FsFr,repeats:t.LCnt}}))};c&&console.log("#4000 AnDs:result",r)}else if("Roll"===n){var l=o.readBytes(t,e());c&&console.log("#4000 Roll",l)}else d&&console.log("Unhandled subsection in #4000",n)}))};n();)e()}));else{if("mopt"!==v)return void(d&&console.log("Unhandled key in #4000:",v));var h=o.readBytes(t,e());c&&console.log("#4000 mopt",h)}}}),(function(t,n){d.writeBytes(t,n._ir4000)})),l.MOCK_HANDLERS&&v(4001,(function(t){return void 0!==t._ir4001}),(function(t,n,e,r){var d=r.logMissingFeatures,c=r.logDevFeatures;if(l.MOCK_HANDLERS)n._ir4001=o.readBytes(t,e());else{var v=o.readSignature(t);if("mfri"===v){if(2!==o.readUint32(t))throw new Error("Invalid mfri version");var h=o.readUint32(t),U=o.readBytes(t,h);c&&console.log("mfri",U)}else if("mset"===v){var desc=f.readVersionAndDescriptor(t);c&&console.log("mset",desc)}else d&&console.log("Unhandled key in #4001",v)}}),(function(t,n){d.writeBytes(t,n._ir4001)}))}}]);
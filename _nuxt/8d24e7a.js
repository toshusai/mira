(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{236:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f.a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return d.a})),n.d(t,"a",(function(){return v}));var r,o=n(120),c=n(121),l=n(130),h=function(){function e(){Object(o.a)(this,e),this.size=10,this.opacity=1,this.pressureSizeWeight=1,this.pressureOpacityWeight=1,this.color=new l.Color}return Object(c.a)(e,[{key:"clone",value:function(){var t=new e;return t.size=this.size,t.opacity=this.opacity,t.pressureSizeWeight=this.pressureSizeWeight,t.pressureOpacityWeight=this.pressureOpacityWeight,t.color=new l.Color,t.color.r=this.color.r,t.color.g=this.color.g,t.color.b=this.color.b,t}}]),e}(),f=n(239);!function(e){e[e.Pencil=0]="Pencil",e[e.Eraser=1]="Eraser",e[e.Move=2]="Move",e[e.Pick=3]="Pick"}(r||(r={}));var d=n(240),v=function(){function e(){Object(o.a)(this,e),this.size=10,this.opacity=1,this.pressureSizeWeight=1,this.pressureOpacityWeight=1}return Object(c.a)(e,[{key:"clone",value:function(){var t=new e;return t.size=this.size,t.opacity=this.opacity,t.pressureSizeWeight=this.pressureSizeWeight,t.pressureOpacityWeight=this.pressureOpacityWeight,t}}]),e}()},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(120),o=n(121),c=(n(38),function(){function e(){Object(r.a)(this,e),this.name="Layer",this.show=!1,this.opacity=1,this.children=[]}return Object(o.a)(e,[{key:"init",value:function(e,t){this.canvas=document.createElement("canvas"),e&&(this.canvas.width=e),t&&(this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.ctx.clearRect(0,0,null!=e?e:this.canvas.width,null!=t?t:this.canvas.height),this.lastImageData=this.ctx.getImageData(0,0,null!=e?e:this.canvas.width,null!=t?t:this.canvas.height)}}]),e}())},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(120),o=n(121),c=(n(38),n(31),function(){function e(){Object(r.a)(this,e),this.name="untitled",this.root={children:[]},this.width=512,this.height=512}return Object(o.a)(e,[{key:"resize",value:function(){var e=this;this.root.children.forEach((function(t){var n=t.ctx.getImageData(0,0,e.width,e.height);t.canvas.width=e.width,t.canvas.height=e.height,t.ctx.putImageData(n,0,0)}))}}]),e}())},243:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return y}));var r=n(9),o=(n(48),n(38),n(50),n(71),n(31),n(246)),c=n(239),l=n(240);function h(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new l.a).name=t.name.replace(/\.psd$/,""),e.t0=o.readPsd,e.next=5,t.arrayBuffer();case 5:return e.t1=e.sent,(h=(0,e.t0)(e.t1)).imageResources={},null===(n=h.children)||void 0===n||n.forEach((function(e){if(e.canvas){var t=new c.a;t.name=e.name||"",t.canvas=e.canvas,t.ctx=e.canvas.getContext("2d"),r.root.children.push(t)}})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){var canvas=document.createElement("canvas");canvas.width=e.width,canvas.height=e.height;var t=canvas.getContext("2d");return t.globalCompositeOperation="source-over",t.clearRect(0,0,e.width,e.height),e.root.children.forEach((function(e){t.globalAlpha=e.opacity,t.drawImage(e.canvas,0,0)})),canvas}var v=n(236);function y(){var e=new v.d,t=new v.b;t.name="Background",e.root.children.push(t),t.init(e.width,e.height);var n=new v.b;return n.name="Layer 1",n.init(e.width,e.height),e.root.children.push(n),t.ctx.fillStyle="white",t.ctx.fillRect(0,0,e.width,e.height),t.lastImageData=t.ctx.getImageData(0,0,e.width,e.height),e}},244:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(120),o=n(121),c=(n(169),function(){function e(){Object(r.a)(this,e),this.undoStack=[],this.redoStack=[]}return Object(o.a)(e,[{key:"undoLength",get:function(){return this.undoStack.length}},{key:"redoLength",get:function(){return this.redoStack.length}},{key:"push",value:function(e){this.undoStack.push(e)}},{key:"pushRedo",value:function(e){this.redoStack.push(e)}},{key:"clearRedo",value:function(){this.redoStack=[]}},{key:"undo",value:function(){this.undoStack.length>0&&((0,this.undoStack[this.undoStack.length-1])(),this.undoStack.splice(this.undoStack.length-1,1))}},{key:"redo",value:function(){this.redoStack.length>0&&((0,this.redoStack[this.redoStack.length-1])(),this.redoStack.splice(this.redoStack.length-1,1))}}]),e}());c.main=new c},254:function(e,t,n){var content=n(318);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("2c709312",content,!0,{sourceMap:!1})},262:function(e,t,n){"use strict";function r(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function o(a,b){return Math.atan2(b.x-a.x,b.y-a.y)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},317:function(e,t,n){"use strict";n(254)},318:function(e,t,n){var r=n(23)(!1);r.push([e.i,".editor{height:100vh;max-height:-webkit-fill-available;min-width:100vw;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),e.exports=r},320:function(e,t,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(43),n(38),n(275),n(22),n(277),n(283),n(285),n(286),n(287),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(311),n(312),n(313),n(1)),v=n(0),y=n(246);n(35),n(44),n(172);var j=n(243);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(c.a)(n,e);var t=O(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).isOpen=!1,e}return Object(o.a)(n,[{key:"open",value:function(){this.isOpen=!0}},{key:"close",value:function(){this.isOpen=!1}},{key:"download",value:function(){var e,t,link,n={width:this.project.width,height:this.project.height,children:this.project.root.children.map((function(e){return{name:e.name,opacity:e.opacity,canvas:e.canvas}})),canvas:Object(j.c)(this.project)},r=Object(y.writePsd)(n);e=new Blob([new Uint8Array(r)]),t=this.project.name+".psd",(link=document.createElement("a")).href&&URL.revokeObjectURL(link.href),link.href=URL.createObjectURL(e),link.download=t,link.dispatchEvent(new MouseEvent("click"))}}]),n}(d.a);w([Object(v.b)()],m.prototype,"project",void 0);var S=m=w([Object(v.a)({})],m),k=n(37),component=Object(k.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sp-dialog",{attrs:{dismissable:!0,isOpen:e.isOpen,header:"Download PSD File"},on:{close:function(t){e.isOpen=!1}}},[n("sp-button",{on:{click:e.download}},[e._v("Download")])],1)}),[],!1,null,null,null);t.a=component.exports},324:function(e,t,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(38),n(1)),v=n(0);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).isOpenSettings=!1,e.width=0,e.height=0,e.name="",e}return Object(o.a)(n,[{key:"open",value:function(){this.isOpenSettings=!0,this.width=this.project.width,this.height=this.project.height,this.name=this.project.name}},{key:"close",value:function(){this.isOpenSettings=!1}},{key:"save",value:function(){this.project.width=this.width,this.project.height=this.height,this.project.name=this.name,this.project.resize(),this.isOpenSettings=!1}}]),n}(d.a);j([Object(v.c)("projectSync")],O.prototype,"project",void 0);var w=O=j([Object(v.a)({})],O),m=n(37),component=Object(m.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sp-dialog",{attrs:{isOpen:e.isOpenSettings,header:"Settings"},on:{close:function(t){e.isOpenSettings=!1}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("sp-button-group",{attrs:{dialog:!0}},[n("sp-button",{attrs:{type:"primary",group:!0},on:{click:e.close}},[e._v("\n        Cancel\n      ")]),e._v(" "),n("sp-button",{attrs:{group:!0},on:{click:e.save}},[e._v("Save")])],1)]},proxy:!0}])},[n("sp-textfield",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("div",{staticStyle:{display:"flex",width:"256px"}},[n("div",{staticStyle:{width:"auto"}},[n("sp-field-label",[e._v("Width")]),e._v(" "),n("sp-textfield",{staticStyle:{width:"auto"},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1),e._v(" "),n("div",{staticStyle:{width:"auto"}},[n("sp-field-label",[e._v("Height")]),e._v(" "),n("sp-textfield",{staticStyle:{width:"auto"},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1)])],1)}),[],!1,null,null,null);t.a=component.exports},325:function(e,t,n){"use strict";n(228);var r=n(9),o=n(120),c=n(121),l=n(230),h=n(231),f=n(229),d=n(30),v=(n(48),n(61),n(1)),y=n(0),j=n(243);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var w=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(l.a)(f,e);var t,n,h=O(f);function f(){var e;return Object(o.a)(this,f),(e=h.apply(this,arguments)).isOpen=!1,e.dragOver=!1,e.errorMessage="Error",e}return Object(c.a)(f,[{key:"open",value:function(){this.isOpen=!0}},{key:"openFile",value:function(){this.input.click()}},{key:"error",value:function(e){this.errorMessage=e,this.toast.open(3e3)}},{key:"changeFile",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target).files||1!=n.files.length){e.next=18;break}if(e.prev=2,"image/vnd.adobe.photoshop"==(r=n.files[0]).type){e.next=7;break}return this.error("Unsuppoted file type ".concat(r.type)),e.abrupt("return");case 7:return e.next=9,Object(j.b)(r);case 9:this.project=e.sent,this.isOpen=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),this.error("Unexpected Error");case 16:e.next=19;break;case 18:this.error("Support only single file.");case 19:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e){return n.apply(this,arguments)})},{key:"dragover",value:function(e){this.dragOver=!0,e.preventDefault()}},{key:"dragleave",value:function(){this.dragOver=!1}},{key:"close",value:function(){this.isOpen=!1}},{key:"drop",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(r=null===(n=t.dataTransfer)||void 0===n?void 0:n.files)||1!=r.length){e.next=10;break}return o=r[0],e.next=6,Object(j.b)(o);case 6:this.project=e.sent,this.isOpen=!1,e.next=11;break;case 10:this.error("Support only single file.");case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),f}(v.a);w([Object(y.c)("projectSync")],m.prototype,"project",void 0),w([Object(y.d)()],m.prototype,"input",void 0),w([Object(y.d)()],m.prototype,"toast",void 0);var S=m=w([Object(y.a)({})],m),k=n(37),component=Object(k.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sp-dialog",{attrs:{dismissable:!0,isOpen:e.isOpen,header:"Open PSD File"},on:{close:function(t){e.isOpen=!1}}},[n("div",{on:{drop:e.drop,dragover:e.dragover,dragleave:e.dragleave}},[n("sp-dropzone",{attrs:{dragged:e.dragOver}},[n("sp-button",{staticStyle:{"margin-top":"32px"},attrs:{type:"primary"},on:{click:e.openFile}},[e._v("\n        Select a File\n        "),n("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.changeFile}})])],1)],1),e._v(" "),n("sp-toast",{ref:"toast",attrs:{negative:!0}},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")])],1)}),[],!1,null,null,null);t.a=component.exports},328:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(120),o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.x=t,this.y=n,this.z=o};function c(element,e,t){var n,r,c,rect=element.getBoundingClientRect(),l=rect.left,h=rect.top;if(t instanceof TouchEvent&&t.touches&&t.touches[0]&&void 0!==t.touches[0].force){if("stylus"!=t.touches[0].touchType)return{x:n,y:r,z:c};t.touches[0].force>0&&(c=t.touches[0].force),n=(t.touches[0].pageX-l)/e,r=(t.touches[0].pageY-h)/e}else t instanceof MouseEvent&&(c=1,n=(t.pageX-l)/e,r=(t.pageY-h)/e);return new o(n,r,c)}},329:function(e,t,n){"use strict";n.r(t);n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(1)),v=n(0),y=n(257),j=n.n(y),O=n(321),w=n(322),m=n(319),S=n(323),k=n(130),x=n(326),R=n(327),P=n(236);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var B=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},E=function(e){Object(c.a)(n,e);var t=_(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).color1=new k.Color,e.color2=new k.Color,e.colorButtonIndex=0,e.selectedColor=1,e.Tool=P.e,e}return Object(o.a)(n,[{key:"mounted",value:function(){this.color2.r=255,this.color2.g=255,this.color2.b=255}},{key:"openPencilPop",value:function(){this.tool==P.e.Pencil&&this.pencilPopover.open(this.pencilButton.$el),this.tool=P.e.Pencil}},{key:"openEraserPop",value:function(){this.tool==P.e.Eraser&&this.eraserPopover.open(this.eraserButton.$el),this.tool=P.e.Eraser}},{key:"selectColor",value:function(e){this.colorButtonIndex=e,0==e?this.pencil.color=this.color1:1==e&&(this.pencil.color=this.color2)}},{key:"changeColor1",value:function(e){this.pencil.color=e}},{key:"changeColor2",value:function(e){this.pencil.color=e}}]),n}(d.a);B([Object(v.c)("projectSync")],E.prototype,"project",void 0),B([Object(v.c)("toolSync")],E.prototype,"tool",void 0),B([Object(v.c)("pencilSync")],E.prototype,"pencil",void 0),B([Object(v.c)("eraserSync")],E.prototype,"eraser",void 0),B([Object(v.d)()],E.prototype,"pencilPopover",void 0),B([Object(v.d)()],E.prototype,"eraserPopover",void 0),B([Object(v.d)()],E.prototype,"color1Button",void 0),B([Object(v.d)()],E.prototype,"color2Button",void 0),B([Object(v.d)()],E.prototype,"pencilButton",void 0),B([Object(v.d)()],E.prototype,"eraserButton",void 0);var C=E=B([Object(v.a)({components:{ColorButton:x.a,IPencilPopover:R.a}})],E),z=n(37),L=Object(z.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sp-split-view-pane",{staticStyle:{padding:"4px"}},[n("sp-action-group",{attrs:{vertical:!0}},[n("sp-action-button",{ref:"pencilButton",attrs:{item:!0,quiet:!0,emphasized:e.tool==e.Tool.Pencil,selected:e.tool==e.Tool.Pencil,corner:!0},on:{pointerdown:e.openPencilPop}},[n("sp-icon",{attrs:{name:"Brush"}})],1),e._v(" "),n("sp-action-button",{ref:"eraserButton",attrs:{emphasized:e.tool==e.Tool.Eraser,selected:e.tool==e.Tool.Eraser,item:!0,quiet:!0,corner:!0},on:{pointerdown:e.openEraserPop}},[n("sp-icon",{attrs:{name:"Erase"}})],1),e._v(" "),n("sp-divider"),e._v(" "),n("color-button",{ref:"color1Button",attrs:{selected:0==e.colorButtonIndex,colorSync:e.color1},on:{"update:colorSync":function(t){e.color1=t},"update:color-sync":function(t){e.color1=t},change:e.changeColor1,pointerdown:function(t){return e.selectColor(0)}}}),e._v(" "),n("color-button",{ref:"color2Button",attrs:{selected:1==e.colorButtonIndex,colorSync:e.color2},on:{"update:colorSync":function(t){e.color2=t},"update:color-sync":function(t){e.color2=t},change:e.changeColor2,pointerdown:function(t){return e.selectColor(1)}}})],1),e._v(" "),n("i-pencil-popover",{ref:"pencilPopover",attrs:{ipencilSync:e.pencil,selected:e.tool==e.Tool.Pencil},on:{"update:ipencilSync":function(t){e.pencil=t},"update:ipencil-sync":function(t){e.pencil=t}}}),e._v(" "),n("i-pencil-popover",{ref:"eraserPopover",attrs:{ipencilSync:e.eraser,selected:e.tool==e.Tool.Eraser},on:{"update:ipencilSync":function(t){e.eraser=t},"update:ipencil-sync":function(t){e.eraser=t}}})],1)}),[],!1,null,null,null).exports;function D(e,t){return!!e.parentElement&&(e.tagName==t||D(e.parentElement,t))}var W=n(243);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var T=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},I=function(e){Object(c.a)(n,e);var t=M(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).project=new P.d,e.tool=P.e.Pencil,e.Tool=P.e,e.treeWidth=200,e.selectedLayer=null,e.pencil=new P.c,e.eraser=new P.a,e.flipH=!1,e}return Object(o.a)(n,[{key:"clear",value:function(){this.canvas.clear()}},{key:"changeW",value:function(e){this.treeWidth-=e}},{key:"update",value:function(){this.canvas.renderCanvas()}},{key:"mounted",value:function(){j()("/mira/static/spectrum-css-icons.svg",(function(){})),j()("/mira/static/spectrum-icons.svg",(function(){})),this.project=Object(W.a)(),this.selectedLayer=this.project.root.children[0],document.body.addEventListener("touchmove",(function(e){D(e.target,"BUTTON")||e.preventDefault()}),{passive:!1})}}]),n}(d.a);T([Object(v.d)()],I.prototype,"canvas",void 0);var H=I=T([Object(v.a)({components:{MiraCanvas:O.a,AppHeader:w.a,AppActionBar:m.a,LayerPanel:S.a,SideToolBar:L}})],I),U=(n(317),Object(z.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.project?n("div",{staticClass:"editor"},[n("sp-split-view",{attrs:{vertical:!0}},[n("app-header",{attrs:{projectSync:e.project},on:{"update:projectSync":function(t){e.project=t},"update:project-sync":function(t){e.project=t}}}),e._v(" "),n("sp-split-view-splitter"),e._v(" "),n("app-action-bar",{attrs:{flipHSync:e.flipH},on:{"update:flipHSync":function(t){e.flipH=t},"update:flip-h-sync":function(t){e.flipH=t}}}),e._v(" "),n("sp-split-view-splitter")],1),e._v(" "),n("sp-split-view",{staticStyle:{height:"calc(100vh - 68px)"}},[n("side-tool-bar",{attrs:{projectSync:e.project,toolSync:e.tool,pencilSync:e.pencil,eraserSync:e.eraser},on:{"update:projectSync":function(t){e.project=t},"update:project-sync":function(t){e.project=t},"update:toolSync":function(t){e.tool=t},"update:tool-sync":function(t){e.tool=t},"update:pencilSync":function(t){e.pencil=t},"update:pencil-sync":function(t){e.pencil=t},"update:eraserSync":function(t){e.eraser=t},"update:eraser-sync":function(t){e.eraser=t}}}),e._v(" "),n("sp-split-view-splitter",{staticStyle:{"min-width":"2px"}}),e._v(" "),n("sp-split-view-pane",{staticStyle:{overflow:"hidden",width:"10000px",height:"100%"}},[n("mira-canvas",{ref:"canvas",attrs:{pencilSync:e.pencil,toolSync:e.tool,eraserSync:e.eraser,currentLayer:e.selectedLayer,flipH:e.flipH,layers:e.project.root.children,project:e.project},on:{"update:pencilSync":function(t){e.pencil=t},"update:pencil-sync":function(t){e.pencil=t},"update:toolSync":function(t){e.tool=t},"update:tool-sync":function(t){e.tool=t},"update:eraserSync":function(t){e.eraser=t},"update:eraser-sync":function(t){e.eraser=t}}})],1),e._v(" "),n("sp-split-view-splitter",{staticStyle:{"min-width":"2px"}}),e._v(" "),n("layer-panel",{attrs:{projectSync:e.project,selectedLayerS:e.selectedLayer,treeWidth:e.treeWidth},on:{"update:projectSync":function(t){e.project=t},"update:project-sync":function(t){e.project=t},"update:selectedLayerS":function(t){e.selectedLayer=t},"update:selected-layer-s":function(t){e.selectedLayer=t},update:e.update}})],1)],1):e._e()}),[],!1,null,null,null));t.default=U.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{245:function(t,e,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("1919e340",content,!0,{sourceMap:!1})},253:function(t,e,n){var content=n(316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("45d20c4f",content,!0,{sourceMap:!1})},263:function(t,e,n){"use strict";n(245)},264:function(t,e,n){var r=n(23)(!1);r.push([t.i,".log[data-v-af365224]{left:0;top:0;position:absolute;pointer-events:none}",""]),t.exports=r},315:function(t,e,n){"use strict";n(253)},316:function(t,e,n){var r=n(23)(!1);r.push([t.i,'.btn[data-v-4c8cd7c6]{margin:4px;height:24px;border:none;width:24px;background:#fff;border-radius:16px;cursor:pointer;position:relative}.btn-select[data-v-4c8cd7c6]:after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border-color:currentcolor;border-radius:16px;border-color:var(--spectrum-semantic-cta-background-color-default);border:2px solid var(--spectrum-actionbutton-m-emphasized-textonly-background-color-selected,var(--spectrum-semantic-cta-background-color-default))}',""]),t.exports=r},319:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(1)),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},m=function(t){Object(c.a)(n,t);var e=y(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(d.a);j([Object(v.b)({default:""})],m.prototype,"name",void 0);var x=m=j([Object(v.a)({})],m),O=n(37),R=Object(O.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sp-action-button",t._g(t._b({staticStyle:{margin:"0"},attrs:{item:!0,quiet:!0,size:"S"}},"sp-action-button",t.$attrs,!1),t.$listeners),[n("sp-icon",{attrs:{name:t.name}})],1)}),[],!1,null,null,null).exports,k=n(244);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var _=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},L=function(t){Object(c.a)(n,t);var e=w(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"changeFlipH",value:function(){this.flipH=!this.flipH}},{key:"canUndo",get:function(){return this.$store.state.canUndo}},{key:"canRedo",get:function(){return this.$store.state.canRedo}},{key:"undo",value:function(){this.canUndo&&k.a.main.undo(),this.$store.commit("setUndo",k.a.main.undoLength>0)}},{key:"redo",value:function(){this.canRedo&&k.a.main.redo(),this.$store.commit("setRedo",k.a.main.redoLength>0)}}]),n}(d.a);_([Object(v.c)("flipHSync")],L.prototype,"flipH",void 0);var S=L=_([Object(v.a)({components:{AppActionBarIconButton:R}})],L),E=Object(O.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sp-split-view-pane",[n("div",{staticStyle:{display:"flex",height:"32px"}},[n("sp-action-group",{staticStyle:{margin:"auto",height:"24px"},attrs:{quiet:!0}},[n("app-action-bar-icon-button",{attrs:{disabled:!t.canUndo,name:"Undo"},on:{click:t.undo}}),t._v(" "),n("app-action-bar-icon-button",{attrs:{disabled:!t.canRedo,name:"Redo"},on:{click:t.redo}}),t._v(" "),n("app-action-bar-icon-button",{attrs:{selected:t.flipH,name:"FlipHorizontal"},on:{click:t.changeFlipH}})],1)],1)])}),[],!1,null,null,null);e.a=E.exports},321:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(258),n(91),n(31),n(261),n(169),n(1)),v=n(0),y=n(328),j=n(262),m=n(236),x=n(244);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},k=function(t){Object(c.a)(n,t);var e=O(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).pageTop=0,t.pageLeft=0,t.scale=1,t.pos={x:100,y:100},t.base={x:0,y:0},t.baseScale=1,t.pinching=!1,t.prevTouchList=null,t.logs=[],t.isMousedown=!1,t.prevD=Number.NaN,t.doneFP=!1,t.tempCtx=null,t.prevPoint=null,t.stroke=[],t.history=[],t}return Object(o.a)(n,[{key:"width",get:function(){return this.project.width}},{key:"height",get:function(){return this.project.height}},{key:"ctx",get:function(){return this.tempCtx?this.tempCtx:this.currentLayer?this.currentLayer.ctx:void 0}},{key:"canvas",get:function(){if(this.currentLayer)return this.currentLayer.canvas}},{key:"style",get:function(){var t=this.pos.x,e=this.scale;return this.flipH&&(t=this.pos.x+this.width*this.scale,e=-e),{transform:"translate(".concat(t,"px, ").concat(this.pos.y,"px) scale(").concat(e,", ").concat(Math.abs(e),")"),transformOrigin:"top left",width:this.width+"px",height:this.height+"px"}}},{key:"vlogs",get:function(){return this.logs.reverse()}},{key:"init",value:function(){this.currentLayer&&this.layers.forEach((function(t){var img=t.ctx.getImageData(0,0,512,512);t.ctx.putImageData(img,0,0)}))}},{key:"renderCanvas",value:function(){var t=this;this.canvasElCtx.globalCompositeOperation="source-over",this.canvasElCtx.clearRect(0,0,this.width,this.height),this.layers.forEach((function(e){t.canvasElCtx.globalAlpha=e.opacity,t.canvasElCtx.drawImage(e.canvas,0,0)}))}},{key:"mounted",value:function(){var t=this;this.canvasElCtx=this.canvasEl.getContext("2d"),this.clear();var e=this.$el;e.addEventListener("mousedown",this.start),e.addEventListener("touchstart",this.start,{passive:!1}),e.addEventListener("mousemove",this.move),e.addEventListener("touchmove",this.move,{passive:!1}),e.addEventListener("mouseup",this.end),e.addEventListener("touchend",this.end,{passive:!1}),this.resize(),this.init(),this.$nextTick((function(){return t.init()})),this.renderCanvas(),this._pencil=this.pencil,this._eraser=this.eraser}},{key:"clear",value:function(){this.ctx&&(this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,this.width,this.height))}},{key:"resize",value:function(){if(this.canvasEl){var rect=this.canvasEl.getBoundingClientRect();this.pageTop=rect.top,this.pageLeft=rect.left}}},{key:"drawPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ctx){this.ctx.strokeStyle=this._pencil.color.toHex(),this.ctx.fillStyle=this._pencil.color.toHex(),this.ctx.globalCompositeOperation="source-over",this.tool==m.e.Eraser&&(this.ctx.globalCompositeOperation="destination-out");var n=this._pencil;if(this.tool==m.e.Eraser&&(n=this._eraser),this.ctx.lineWidth=0,null==this.prevPoint){var p=t;this.ctx.beginPath();var r=n.size*p.z;this.ctx.arc(p.x,p.y,r/2,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.stroke()}else for(var o=this.prevPoint,c=t,l=Object(j.b)(c,o),a=Object(j.a)(c,o),i=0;i<l;i+=.5){var h=i/l;h<=.1&&(h=0),h>=1&&(h=1),c.z<.1&&(c.z=.1);var f=function(a,b,t){return a*(1-t)+b*t},d=n.size*f(1,o.z,n.pressureSizeWeight),v=n.size*f(1,c.z,n.pressureSizeWeight),y=f(v,d,h);this.ctx.globalAlpha=n.opacity*f(1,c.z,n.pressureOpacityWeight),this.ctx.beginPath(),this.ctx.arc(c.x+Math.sin(a)*i,c.y+Math.cos(a)*i,y/2,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}this.stroke.push(t),this.prevPoint=t,e||this.renderCanvas()}}},{key:"handle",value:function(t){if(t instanceof TouchEvent&&2==t.touches.length){if(!this.doneFP)return this.doneFP=!0,this.prevD=Number.NaN,void(this.pinching=!0);var a=t.touches[0],b=t.touches[1],e={x:a.pageX,y:a.pageY},n={x:b.pageX,y:b.pageY},r={x:(e.x+n.x)/2,y:(e.y+n.y)/2},o={x:r.x-this.pageLeft,y:r.y-this.pageTop};o.x/=this.width*this.scale,o.y/=this.height*this.scale;var c=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));if(!isNaN(this.prevD)){var l=c/this.prevD;this.zoom(l,o)}this.resize(),this.prevD=c}}},{key:"zoom",value:function(t,e){var n=this.scale;this.scale*=t;var r=-this.scale+n;this.pos.x+=this.width*e.x*r,this.pos.y+=this.height*e.y*r}},{key:"start",value:function(t){if(t instanceof TouchEvent&&t.touches.length>0&&(this.base.x=t.touches[0].pageX,this.base.y=t.touches[0].pageY),this.doneFP=!1,this.isMousedown=!0,!this.isFingerTouch(t)){var p=Object(y.a)(this.canvasEl,this.scale,t);this.flipH&&(p.x=this.width-p.x),this.drawPoint(p)}t instanceof TouchEvent&&(this.prevTouchList=t.touches),this.renderCanvas(),t.preventDefault()}},{key:"move",value:function(t){var e;if(t instanceof TouchEvent&&t.touches[0]&&"stylus"!=t.touches[0].touchType&&(1==t.touches.length&&1==(null===(e=this.prevTouchList)||void 0===e?void 0:e.length)&&(this.pos.x+=t.touches[0].pageX-this.base.x,this.pos.y+=t.touches[0].pageY-this.base.y,this.base.x=t.touches[0].pageX,this.base.y=t.touches[0].pageY,this.resize()),1==t.touches.length&&(this.base.x=t.touches[0].pageX,this.base.y=t.touches[0].pageY)),this.handle(t),this.isMousedown){if(!this.isFingerTouch(t)){var p=Object(y.a)(this.canvasEl,this.scale,t);this.flipH&&(p.x=this.width-p.x),t instanceof TouchEvent&&(this.prevTouchList=t.touches),this.drawPoint(p)}t.preventDefault()}}},{key:"isFingerTouch",value:function(t){return t instanceof TouchEvent&&t.touches.length>0&&"stylus"!=t.touches[0].touchType}},{key:"end",value:function(t){var e=this;if(this.handle(t),this.pinching=!1,!(this.prevTouchList&&this.prevTouchList.length>0&&"direct"==this.prevTouchList[0].touchType)&&this.stroke.length>0){if(!this.currentLayer)return;this.history.push({layer:this.currentLayer,stroke:this.stroke,tool:this.tool,pencil:this.pencil.clone(),eraser:this.eraser.clone()}),this.$store.commit("setRedo",!1),x.a.main.clearRedo();x.a.main.push((function t(){e.layers.forEach((function(t){t.ctx.putImageData(t.lastImageData,0,0)}));var n=e.history.splice(e.history.length-1,1);e.drawStrokes(e.history),x.a.main.pushRedo((function(){n.length>0&&(e.layers.forEach((function(t){t.ctx.putImageData(t.lastImageData,0,0)})),e.history.push(n[0]),e.drawStrokes(e.history),x.a.main.push(t),e.$store.commit("setUndo",!0))})),e.$store.commit("setRedo",!0)})),this.$store.commit("setUndo",!0)}this.stroke=[],this.prevPoint=null,this.isMousedown=!1,this.renderCanvas(),t.preventDefault()}},{key:"drawStrokes",value:function(t){if(this.currentLayer){for(var e=this.tool,n=this.pencil,r=this.eraser,i=0;i<t.length;i++){var o=t[i];this.tempCtx=o.layer.ctx,this.prevPoint=null,this.tool=o.tool,this._pencil=o.pencil,this._eraser=o.eraser;for(var c=0;c<o.stroke.length;c++){var l=o.stroke[c];this.drawPoint(l,!0)}this.stroke=[],this.prevPoint=null}this.renderCanvas(),this.tempCtx=null,this.tool=e,this._pencil=n,this._eraser=r}}}]),n}(d.a);R([Object(v.c)("pencilSync",{default:function(){return new m.c}})],k.prototype,"pencil",void 0),R([Object(v.c)("eraserSync",{default:function(){return new m.a}})],k.prototype,"eraser",void 0),R([Object(v.c)("toolSync",{default:m.e.Pencil})],k.prototype,"tool",void 0),R([Object(v.b)({default:function(){return[]}})],k.prototype,"layers",void 0),R([Object(v.b)({default:null})],k.prototype,"currentLayer",void 0),R([Object(v.b)({default:!1})],k.prototype,"flipH",void 0),R([Object(v.b)()],k.prototype,"project",void 0),R([Object(v.d)()],k.prototype,"canvasEl",void 0),R([Object(v.f)("currentLayer")],k.prototype,"init",null),R([Object(v.f)("layers")],k.prototype,"renderCanvas",null);var w=k=R([Object(v.a)({components:{}})],k),_=(n(263),n(37)),component=Object(_.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100vh"}},[n("div",{staticClass:"alpha-background",style:t.style},[n("canvas",{ref:"canvasEl",attrs:{width:t.width,height:t.height}})]),t._v(" "),n("div",{staticClass:"log"},t._l(t.vlogs,(function(e,i){return n("div",{key:i},[t._v(t._s(e))])})),0)])}),[],!1,null,"af365224",null);e.a=component.exports},322:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(1)),v=n(0),y=n(324),j=n(325),m=n(320);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(c.a)(n,t);var e=x(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"openSettingsDialog",value:function(){this.settingsDialog.open()}},{key:"openExportDialog",value:function(){this.exportDialog.open()}},{key:"openImportDialog",value:function(){this.importDialog.open()}}]),n}(d.a);O([Object(v.c)("projectSync")],R.prototype,"project",void 0),O([Object(v.d)()],R.prototype,"settingsDialog",void 0),O([Object(v.d)()],R.prototype,"importDialog",void 0),O([Object(v.d)()],R.prototype,"exportDialog",void 0);var k=R=O([Object(v.a)({components:{SettingsDialog:y.a,ImportDialog:j.a,ExportDialog:m.a}})],R),w=n(37),component=Object(w.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sp-split-view-pane",{staticStyle:{display:"flex"}},[n("sp-action-button",{attrs:{item:!0,quiet:!0,projectSync:t.project},on:{"update:projectSync":function(e){t.project=e},"update:project-sync":function(e){t.project=e},click:t.openImportDialog}},[n("sp-icon",{attrs:{name:"Import"}})],1),t._v(" "),n("div",{staticStyle:{margin:"auto"}}),t._v(" "),n("sp-action-button",{attrs:{item:!0,quiet:!0},on:{click:t.openExportDialog}},[n("sp-icon",{attrs:{name:"Export"}})],1),t._v(" "),n("sp-action-button",{attrs:{item:!0,quiet:!0},on:{click:t.openSettingsDialog}},[n("sp-icon",{attrs:{name:"Settings"}})],1),t._v(" "),n("settings-dialog",{ref:"settingsDialog",attrs:{projectSync:t.project},on:{"update:projectSync":function(e){t.project=e},"update:project-sync":function(e){t.project=e}}}),t._v(" "),n("import-dialog",{ref:"importDialog",attrs:{projectSync:t.project},on:{"update:projectSync":function(e){t.project=e},"update:project-sync":function(e){t.project=e}}}),t._v(" "),n("export-dialog",{ref:"exportDialog",attrs:{project:t.project}})],1)}),[],!1,null,null,null);e.a=component.exports},323:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(314),n(169),n(1)),v=n(0),y=n(236);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},x=function(t){Object(c.a)(n,t);var e=j(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"selectLayer",value:function(t){this.selectedLayer=t}},{key:"updateEmit",value:function(){this.$emit("update")}},{key:"deleteLayer",value:function(){var t=this,i=this.project.root.children.findIndex((function(e){return e==t.selectedLayer}));-1!=i&&(this.project.root.children.splice(i,1),0==this.project.root.children.length?this.selectedLayer=null:this.project.root.children[i-1]?this.selectedLayer=this.project.root.children[i-1]:this.project.root.children[i]?this.selectedLayer=this.project.root.children[i]:this.selectedLayer=this.project.root.children[0])}},{key:"addLayer",value:function(){var t=new y.b;t.init(this.project.width,this.project.height),t.canvas.width=this.project.width,t.canvas.height=this.project.height,this.project.root.children.push(t),this.selectedLayer=t}},{key:"move",value:function(p){var i=p.i,t=this.project.root.children;if(t[i]!=p.item){var e=t.findIndex((function(t){return t==p.item}));-1!=e&&t.splice(e,1);var n=-1;e>i&&(n=0),t.splice(i+n,0,p.item)}}}]),n}(d.a);m([Object(v.b)()],x.prototype,"treeWidth",void 0),m([Object(v.c)("projectSync")],x.prototype,"project",void 0),m([Object(v.c)("selectedLayerS")],x.prototype,"selectedLayer",void 0);var O=x=m([Object(v.a)({})],x),R=n(37),component=Object(R.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sp-split-view-pane",{staticClass:"prevent-touchmove",style:"width: "+t.treeWidth+"px; min-width: "+t.treeWidth+"px; max-width: "+t.treeWidth+"px"},[n("sp-action-group",{attrs:{compact:!0,quiet:!0}},[n("sp-action-button",{attrs:{item:!0,quiet:!0},on:{click:t.addLayer}},[n("sp-icon",{attrs:{name:"Add"}})],1),t._v(" "),n("sp-action-button",{attrs:{item:!0,quiet:!0},on:{click:t.deleteLayer}},[n("sp-icon",{attrs:{name:"Delete"}})],1)],1),t._v(" "),n("sp-divider",{staticStyle:{margin:"0"}}),t._v(" "),t.selectedLayer?[n("sp-textfield",{staticStyle:{width:"calc(100% - 8px)",margin:"4px"},attrs:{size:"S"},model:{value:t.selectedLayer.name,callback:function(e){t.$set(t.selectedLayer,"name",e)},expression:"selectedLayer.name"}}),t._v(" "),n("sp-slider",{staticStyle:{margin:"0 8px"},attrs:{min:0,max:1,label:"Opacity",valueText:t.selectedLayer.opacity.toFixed(2)},on:{input:t.updateEmit},model:{value:t.selectedLayer.opacity,callback:function(e){t.$set(t.selectedLayer,"opacity",e)},expression:"selectedLayer.opacity"}})]:t._e(),t._v(" "),n("sp-divider",{staticStyle:{margin:"0"}}),t._v(" "),n("sp-item-list-item",{attrs:{selectedItem:t.selectedLayer,items:t.project.root.children},on:{pointerdown:t.selectLayer,move:t.move},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("div",{staticStyle:{padding:"2px 0 2px 0"}},[t._v("\n        "+t._s(r.name)+"\n      ")])]}}])})],2)}),[],!1,null,null,null);e.a=component.exports},326:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(91),n(1)),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},m=function(t){Object(c.a)(n,t);var e=y(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).h=90,t}return Object(o.a)(n,[{key:"cssClass",get:function(){return[this.selected?"btn-select":""]}},{key:"rgbStr",get:function(){var t=this.color,e=t.r,g=t.g,b=t.b;return"rgb(".concat(e,", ").concat(g,", ").concat(b,")")}},{key:"open",value:function(t){this.selected&&this.popover.open(t.target)}},{key:"changeColor",value:function(t){this.color=t,this.$emit("change",t)}}]),n}(d.a);j([Object(v.d)()],m.prototype,"popover",void 0),j([Object(v.b)({default:!1})],m.prototype,"selected",void 0),j([Object(v.c)("colorSync")],m.prototype,"color",void 0);var x=m=j([Object(v.a)({})],m),O=(n(315),n(37)),component=Object(O.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",t._g(t._b({staticClass:"btn",class:t.cssClass,style:"background: "+t.rgbStr,on:{pointerdown:t.open}},"button",t.$attrs,!1),t.$listeners)),t._v(" "),n("sp-popover",{ref:"popover"},[n("sp-color-area",{attrs:{h:t.h,color:t.color},on:{change:t.changeColor}}),t._v(" "),n("sp-color-slider",{attrs:{h:t.h},on:{change:function(e){return t.h=e}}})],1)],1)}),[],!1,null,"4c8cd7c6",null);e.a=component.exports},327:function(t,e,n){"use strict";n(228);var r=n(120),o=n(121),c=n(230),l=n(231),h=n(229),f=n(30),d=(n(61),n(1)),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},m=function(t){Object(c.a)(n,t);var e=y(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).r=3,t}return Object(o.a)(n,[{key:"changeOpacity",value:function(t){this.ipencil.opacity=Math.pow(t,this.r)}},{key:"opacity",get:function(){return Math.pow(this.ipencil.opacity,1/this.r)}},{key:"open",value:function(t){this.popover.open(t)}}]),n}(d.a);j([Object(v.d)()],m.prototype,"popover",void 0),j([Object(v.c)("ipencilSync")],m.prototype,"ipencil",void 0),j([Object(v.b)()],m.prototype,"selected",void 0);var x=m=j([Object(v.a)({})],m),O=n(37),component=Object(O.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sp-popover",{ref:"popover"},[n("div",{staticStyle:{height:"200px"}},[n("sp-slider",{attrs:{label:"size",value:t.ipencil.size,min:1,max:100,valueText:t.ipencil.size.toFixed(0)},on:{input:function(e){return t.ipencil.size=e}}}),t._v(" "),n("sp-slider",{attrs:{label:"opacity",value:t.opacity,valueText:t.opacity.toFixed(2),min:0,max:1},on:{input:t.changeOpacity}}),t._v(" "),n("sp-slider",{attrs:{label:"pressure size",value:t.ipencil.pressureSizeWeight,min:0,max:1,valueText:t.ipencil.pressureSizeWeight.toFixed(2)},on:{input:function(e){return t.ipencil.pressureSizeWeight=e}}}),t._v(" "),n("sp-slider",{attrs:{label:"pressure opacity",value:t.ipencil.pressureOpacityWeight,min:0,max:1,valueText:t.ipencil.pressureOpacityWeight.toFixed(2)},on:{input:function(e){return t.ipencil.pressureOpacityWeight=e}}})],1)])}),[],!1,null,null,null);e.a=component.exports}}]);